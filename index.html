<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>Simulador Cuadrangulares [Semifinales] Liga BetPlay II 2025 | Resultados y Fixture | Nacional vs Medell√≠n | FPC Simulator</title>
    <meta name="title" content="Simulador Cuadrangulares [Semifinales] Liga BetPlay II 2025 | Resultados y Fixture | Nacional vs Medell√≠n | FPC Simulator">
    <meta name="description" content="Fixture y resultados cuadrangulares Liga BetPlay 2025 II. Simula partidos, predice resultados y crea tablas. Incluye final Nacional vs Medell√≠n y todos los partidos del f√∫tbol profesional colombiano.">
    <meta name="keywords" content="Liga BetPlay, Liga BetPlay 2025, cuadrangulares, semifinales, f√∫tbol colombiano, futbol colombiano, FPC, simulador f√∫tbol, tabla de posiciones, pron√≥sticos f√∫tbol, Dimayor, reclasificaci√≥n, fixture cuadrangulares liga betplay 2025, cuadrangulares liga betplay partidos, resultados cuadrangulares liga betplay 2025, partidos cuadrangulares liga betplay 2025, medellin vs nacional final, nacional vs medellin final, final copa betplay, Atl√©tico Junior, Independiente Medell√≠n, Atl√©tico Nacional, Am√©rica de Cali, Deportes Tolima, Atl√©tico Bucaramanga, Fortaleza CEIF, Santa Fe, Millonarios, Deportivo Cali, Once Caldas, Deportivo Pereira, Envigado, Jaguares, Deportivo Pasto, √Åguilas Doradas">
    <meta name="author" content="FPC Simulator">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Spanish">
    <meta name="revisit-after" content="7 days">
    <meta name="theme-color" content="#667eea">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://fpcsimulator.online/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fpcsimulator.online/">
    <meta property="og:title" content="‚öΩ Simulador Liga BetPlay 2025 II - Cuadrangulares">
    <meta property="og:description" content="üèÜ Simula los cuadrangulares de la Liga BetPlay 2025 II. Predice resultados, crea tablas y descubre qui√©n llegar√° a la final. ¬°Nacional vs Medell√≠n incluido!">
    <meta property="og:image" content="https://fpcsimulator.online/og-image.jpg">
    <meta property="og:image:alt" content="Simulador Liga BetPlay 2025 - Cuadrangulares Semifinales FPC">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:locale" content="es_CO">
    <meta property="og:site_name" content="FPC Simulator">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://fpcsimulator.online/">
    <meta name="twitter:title" content="‚öΩ Simulador Liga BetPlay 2025 II - Cuadrangulares">
    <meta name="twitter:description" content="üèÜ Simula los cuadrangulares de la Liga BetPlay 2025 II. Predice resultados, crea tablas y descubre qui√©n llegar√° a la final.">
    <meta name="twitter:image" content="https://fpcsimulator.online/og-image.jpg">
    <meta name="twitter:image:alt" content="Simulador Liga BetPlay 2025 - Cuadrangulares Semifinales FPC">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öΩ</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öΩ</text></svg>">

    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "FPC Simulator - Liga BetPlay 2025 II",
      "applicationCategory": "SportsApplication",
      "description": "Fixture y resultados cuadrangulares Liga BetPlay 2025 II. Simulador interactivo de partidos. Incluye final Nacional vs Medell√≠n y todos los partidos del f√∫tbol profesional colombiano.",
      "url": "https://fpcsimulator.online/",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock",
        "validFrom": "2025-11-18"
      },
      "inLanguage": "es-CO",
      "keywords": "fixture cuadrangulares liga betplay 2025, resultados cuadrangulares liga betplay 2025, partidos cuadrangulares liga betplay 2025, medellin vs nacional final, nacional vs medellin final, final copa betplay, simulador f√∫tbol colombiano, FPC, Dimayor",
      "about": {
        "@type": "SportsEvent",
        "name": "Liga BetPlay 2025 II Cuadrangulares",
        "sport": "Soccer",
        "startDate": "2025-11-18",
        "endDate": "2025-12-20",
        "image": "https://dimayor.com.co/wp-content/uploads/2025/11/59b6a895-b55e-4456-a932-ae47cbc3b839-819x1024.jpeg",
        "location": {
          "@type": "Place",
          "name": "Estadios de Colombia",
          "address": {
            "@type": "PostalAddress",
            "addressCountry": "CO",
            "addressRegion": "Multiple",
            "addressLocality": "Colombia"
          }
        },
        "organizer": {
          "@type": "SportsOrganization",
          "name": "DIMAYOR",
          "url": "https://dimayor.com.co/"
        },
        "offers": {
          "@type": "Offer",
          "url": "https://fpcsimulator.online/",
          "price": "0",
          "priceCurrency": "USD",
          "availability": "https://schema.org/InStock",
          "validFrom": "2025-11-18"
        }
      }
    }
    </script>

    <!-- Breadcrumb Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Inicio",
        "item": "https://fpcsimulator.online/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "Liga BetPlay 2025 II",
        "item": "https://fpcsimulator.online/"
      },{
        "@type": "ListItem",
        "position": 3,
        "name": "Cuadrangulares Semifinales"
      }]
    }
    </script>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9814982707828565"
     crossorigin="anonymous"></script>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            transition: background 0.3s ease;
        }
        body.light-theme {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) fixed;
            background-size: cover;
        }
        body.dark-theme {
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%) fixed;
            background-size: cover;
        }
        .glass {
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        .light-theme .glass {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .dark-theme .glass {
            background: rgba(30, 30, 46, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .dark-theme .text-gray-900 {
            color: #e0e0e0 !important;
        }
        .dark-theme .text-gray-800 {
            color: #d0d0d0 !important;
        }
        .dark-theme .text-gray-700 {
            color: #b0b0b0 !important;
        }
        .dark-theme .text-gray-600 {
            color: #909090 !important;
        }
        .dark-theme .border-gray-200 {
            border-color: rgba(255, 255, 255, 0.1) !important;
        }
        .dark-theme .border-gray-100 {
            border-color: rgba(255, 255, 255, 0.05) !important;
        }
        .dark-theme .hover\:bg-gray-50:hover {
            background-color: rgba(255, 255, 255, 0.05) !important;
        }
        .dark-theme .hover\:bg-gray-100:hover {
            background-color: rgba(255, 255, 255, 0.08) !important;
        }
        .dark-theme .bg-gray-200 {
            background-color: rgba(255, 255, 255, 0.15) !important;
        }
        .dark-theme .bg-blue-50 {
            background-color: rgba(59, 130, 246, 0.1) !important;
        }
        .dark-theme .bg-green-50 {
            background-color: rgba(34, 197, 94, 0.1) !important;
        }
        .dark-theme .bg-yellow-50 {
            background-color: rgba(234, 179, 8, 0.1) !important;
        }
        .dark-theme .bg-purple-50 {
            background-color: rgba(168, 85, 247, 0.1) !important;
        }
        .dark-theme .bg-indigo-50 {
            background-color: rgba(99, 102, 241, 0.1) !important;
        }
        .dark-theme .text-blue-700 {
            color: #93c5fd !important;
        }
        .dark-theme .text-green-700 {
            color: #86efac !important;
        }
        .dark-theme .text-green-900 {
            color: #bbf7d0 !important;
        }
        .dark-theme .text-yellow-700 {
            color: #fde047 !important;
        }
        .dark-theme .text-purple-900 {
            color: #e9d5ff !important;
        }
        .dark-theme .border-purple-200 {
            border-color: rgba(168, 85, 247, 0.3) !important;
        }
        .dark-theme .border-blue-500 {
            border-color: rgba(59, 130, 246, 0.5) !important;
        }
        .dark-theme .border-green-500 {
            border-color: rgba(34, 197, 94, 0.5) !important;
        }
        .dark-theme .border-yellow-500 {
            border-color: rgba(234, 179, 8, 0.5) !important;
        }
        .dark-theme .bg-white {
            background-color: rgba(50, 50, 70, 0.5) !important;
        }
        .dark-theme .text-gray-500 {
            color: #a0a0a0 !important;
        }
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: white;
        }
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        .team-logo {
            width: 36px;
            height: 36px;
            object-fit: contain;
            border-radius: 4px;
            padding: 2px;
        }
        .team-logo-fallback {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
        .advantage-badge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .position-circle {
            width: 32px;
            height: 32px;
            display: inline-block;
            border-radius: 50%;
            font-weight: 700;
            position: relative;
            line-height: 32px;
            padding: 0;
            margin: 0;
            text-align: center;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
        }
        .qualified {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        .qualification-libertadores {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            color: white;
        }
        .qualification-sudamericana {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Prevent scroll on input focus - AGGRESSIVE */
        html, body {
            scroll-behavior: auto !important;
            overflow-anchor: none !important;
        }

        * {
            scroll-margin: 0 !important;
            scroll-padding: 0 !important;
            scroll-margin-top: 0 !important;
            scroll-margin-bottom: 0 !important;
            scroll-margin-left: 0 !important;
            scroll-margin-right: 0 !important;
        }

        input[type="number"] {
            scroll-snap-align: none !important;
        }

        input[type="number"]:focus,
        input[type="number"]:focus-visible,
        input[type="number"]:active {
            scroll-margin: 0 !important;
            scroll-margin-block: 0 !important;
            scroll-margin-inline: 0 !important;
        }

        /* Prevent layout shift during updates */
        body, #root {
            overflow-anchor: none;
        }

        /* Optimize input rendering to prevent flicker */
        input[type="number"] {
            will-change: auto;
            contain: layout style;
            transform: translateZ(0);
            backface-visibility: hidden;
            transition: none !important;
        }

        /* Prevent table flicker during updates */
        table {
            contain: layout;
        }

        /* Prevent visual jumps in containers */
        .glass {
            contain: layout;
        }

        /* Optimize reclassification table layout */
        .overflow-x-auto table {
            table-layout: auto;
        }

        .overflow-x-auto table td:first-child {
            width: 50px;
        }

        .overflow-x-auto table td:nth-child(2) {
            max-width: 280px;
            width: auto;
        }

        /* Ensure stat columns get adequate width */
        .overflow-x-auto table td:nth-child(n+3) {
            white-space: nowrap;
        }

        /* Badge text wrapping */
        .flex-wrap span {
            line-height: 1.3;
            word-break: break-word;
        }

        /* Desktop: Hide combined goals column, show individual GF/GC */
        @media (min-width: 769px) {
            .col-goals-combined {
                display: none !important;
            }
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            /* Mobile: Show combined goals column, hide individual GF/GC */
            .col-gf,
            .col-gc {
                display: none !important;
            }
            body {
                padding: 0;
                overflow-x: hidden;
                max-width: 100vw;
            }

            .container, .max-w-7xl {
                max-width: 100vw !important;
                overflow-x: hidden;
                padding-left: 0 !important;
                padding-right: 0 !important;
            }

            .glass {
                margin: 12px !important;
                padding: 16px 12px !important;
                overflow: hidden !important;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 6px 12px;
                font-size: 14px;
            }

            /* Make buttons more touch-friendly */
            button {
                min-height: 44px;
            }

            /* Tables with fixed left columns and scrollable stats */
            .overflow-x-auto {
                width: 100% !important;
                overflow-x: auto;
                overflow-y: visible;
                position: relative;
                -webkit-overflow-scrolling: touch;
                margin: 0 -12px !important;
                padding: 0 12px !important;
            }

            /* Optimize table layout - must be wider than container to scroll */
            table {
                font-size: 12px;
                width: max-content;
                min-width: 100%;
                display: table !important;
                border-collapse: separate;
                border-spacing: 0;
            }

            thead {
                display: table-header-group !important;
            }

            tbody {
                display: table-row-group !important;
            }

            tr {
                display: table-row !important;
            }

            th, td {
                display: table-cell !important;
                padding: 10px 6px !important;
                vertical-align: middle;
                box-sizing: border-box;
            }

            /* Sticky first 2 columns: POS, EQUIPO - unified block */
            th:nth-child(1), td:nth-child(1),
            th:nth-child(2), td:nth-child(2) {
                position: sticky !important;
                z-index: 100 !important;
                margin: 0 !important;
                border-left: none !important;
            }

            th:nth-child(1), td:nth-child(1) {
                left: -12px; /* Extend into container's left padding */
                border-right: none !important; /* No border between unified columns */
                padding-left: 20px !important; /* Compensate for extension + original padding */
            }

            th:nth-child(2), td:nth-child(2) {
                left: 50px; /* Adjusted for extended first column */
                border-right: 1px solid rgba(0, 0, 0, 0.05); /* Only border on right edge */
            }

            /* Shadow on last sticky column */
            th:nth-child(2), td:nth-child(2) {
                box-shadow: 2px 0 4px rgba(0,0,0,0.1);
            }

            /* Dark theme sticky column backgrounds - fully opaque to hide scrolling content */
            /* Apply to all tables with overflow-x-auto wrapper */
            .dark-theme .overflow-x-auto table th:nth-child(1),
            .dark-theme .overflow-x-auto table th:nth-child(2),
            .dark-theme .overflow-x-auto table thead tr th:nth-child(1),
            .dark-theme .overflow-x-auto table thead tr th:nth-child(2) {
                background-color: rgb(30, 30, 46) !important;
            }

            .dark-theme .overflow-x-auto table td:nth-child(1),
            .dark-theme .overflow-x-auto table td:nth-child(2),
            .dark-theme .overflow-x-auto table tbody tr td:nth-child(1),
            .dark-theme .overflow-x-auto table tbody tr td:nth-child(2) {
                background-color: rgb(30, 30, 46) !important;
            }

            /* Light theme sticky column backgrounds - fully opaque to hide scrolling content */
            .light-theme .overflow-x-auto table th:nth-child(1),
            .light-theme .overflow-x-auto table th:nth-child(2),
            .light-theme .overflow-x-auto table thead tr th:nth-child(1),
            .light-theme .overflow-x-auto table thead tr th:nth-child(2) {
                background-color: rgb(255, 255, 255) !important;
            }

            .light-theme .overflow-x-auto table td:nth-child(1),
            .light-theme .overflow-x-auto table td:nth-child(2),
            .light-theme .overflow-x-auto table tbody tr td:nth-child(1),
            .light-theme .overflow-x-auto table tbody tr td:nth-child(2) {
                background-color: rgb(255, 255, 255) !important;
            }

            /* Row hover effect - must maintain full opacity */
            .dark-theme .overflow-x-auto table tbody tr:hover td:nth-child(1),
            .dark-theme .overflow-x-auto table tbody tr:hover td:nth-child(2) {
                background-color: rgb(40, 42, 70) !important;
            }

            .light-theme .overflow-x-auto table tbody tr:hover td:nth-child(1),
            .light-theme .overflow-x-auto table tbody tr:hover td:nth-child(2) {
                background-color: rgb(238, 239, 250) !important;
            }

            /* Ensure nested elements in sticky columns don't have transparent backgrounds */
            .dark-theme .overflow-x-auto table td:nth-child(1) > *,
            .dark-theme .overflow-x-auto table td:nth-child(2) > * {
                background-color: transparent !important;
            }

            .light-theme .overflow-x-auto table td:nth-child(1) > *,
            .light-theme .overflow-x-auto table td:nth-child(2) > * {
                background-color: transparent !important;
            }

            /* Remove any borders between sticky columns */
            .overflow-x-auto table th:nth-child(1),
            .overflow-x-auto table td:nth-child(1) {
                border-right: none !important;
            }

            /* Fixed column widths - show ALL columns, force table wider than viewport */
            th:nth-child(1), td:nth-child(1) { width: 62px !important; min-width: 62px !important; } /* POS - extended to cover left padding */
            th:nth-child(2), td:nth-child(2) { width: 45px !important; min-width: 45px !important; } /* EQUIPO (logo) */

            /* All stat columns - scrollable area */
            th:nth-child(n+3), td:nth-child(n+3) {
                width: 55px !important;
                min-width: 55px !important;
                white-space: nowrap;
            }

            /* Combined goals column (GF:GC) - wider to fit score format */
            th:nth-child(4), td:nth-child(4) {
                width: 60px !important;
                min-width: 60px !important;
            }

            /* Pts/Total column - emphasized and wider */
            th:nth-child(6), td:nth-child(6) {
                width: 70px !important;
                min-width: 70px !important;
            }

            .position-circle {
                width: 28px;
                height: 28px;
                font-size: 12px;
                line-height: 28px;
                padding: 0;
                margin: 0;
                display: inline-block;
            }

            /* Hide team names on mobile - show only logos */
            td:nth-child(2) .font-semibold,
            td:nth-child(2) .flex-wrap {
                display: none !important;
            }

            /* Make Ventaja Deportiva badge tiny - just an icon */
            .advantage-badge {
                font-size: 0 !important;
                width: 14px !important;
                height: 14px !important;
                padding: 0 !important;
                border-radius: 50% !important;
                display: inline-flex !important;
                align-items: center;
                justify-content: center;
                position: absolute;
                top: -2px;
                right: -2px;
                z-index: 1;
            }

            .advantage-badge::before {
                content: '‚òÖ';
                font-size: 10px;
                line-height: 1;
            }

            /* Center team logos with badge */
            td:nth-child(2) {
                padding: 4px !important;
                text-align: center;
                position: relative;
            }

            td:nth-child(2) > div {
                position: relative;
                display: inline-block;
            }

            td:nth-child(2) .flex {
                justify-content: center !important;
            }

            /* Make logos bigger for better visibility with abbreviations */
            .team-logo, .team-logo-fallback {
                width: 32px !important;
                height: 32px !important;
                font-size: 11px !important;
            }

            /* Make stat columns more visible - bigger now with more space */
            td:nth-child(n+3) {
                font-size: 14px !important;
                font-weight: 700 !important;
                text-align: center !important;
            }

            /* PT badge */
            td:nth-child(3) span {
                font-size: 15px !important;
                padding: 5px 10px !important;
                white-space: nowrap;
            }

            /* Center all headers */
            th {
                font-size: 10px !important;
                text-align: center !important;
                padding: 8px 2px !important;
            }

            /* Keep team name row items together */
            td:nth-child(2) .flex.items-center:not(.flex-wrap) {
                flex-wrap: nowrap !important;
            }

            /* Fix match cards and content clipping */
            .space-y-6, .space-y-3, .space-y-4 {
                width: 100% !important;
                overflow: visible !important;
            }

            /* Match cards - prevent clipping */
            .glass.rounded-xl {
                margin-left: 12px !important;
                margin-right: 12px !important;
                width: calc(100% - 24px) !important;
            }

            /* Tab content sections */
            .tab-content > div {
                overflow: visible !important;
            }

            /* Compact legend for mobile */
            .glass .grid {
                display: block !important;
            }

            .glass .grid > div {
                margin-bottom: 8px !important;
                padding: 8px !important;
            }

            /* Scroll indicator for stats - desktop only */
            @media (min-width: 769px) {
                .overflow-x-auto::after {
                    content: '‚Üí';
                    position: absolute;
                    right: 0;
                    top: 50%;
                    transform: translateY(-50%);
                    background: linear-gradient(to right, transparent, rgba(99, 102, 241, 0.8));
                    color: white;
                    padding: 20px 10px;
                    pointer-events: none;
                    font-size: 18px;
                    font-weight: bold;
                    opacity: 0.7;
                    z-index: 5;
                }
            }

            /* Hide scroll indicator when scrolled to the right */
            .overflow-x-auto::-webkit-scrollbar {
                height: 4px;
            }

            .overflow-x-auto::-webkit-scrollbar-track {
                background: rgba(0,0,0,0.1);
            }

            .overflow-x-auto::-webkit-scrollbar-thumb {
                background: rgba(99, 102, 241, 0.6);
                border-radius: 2px;
            }

            /* Adjust tab buttons */
            button[class*="flex-1"] {
                font-size: 13px;
                padding: 10px 12px !important;
                min-width: 80px !important;
            }

            /* Adjust header */
            h1 {
                font-size: 24px !important;
            }

            h2 {
                font-size: 18px !important;
            }

            h3 {
                font-size: 16px !important;
            }

            /* Adjust glass containers */
            .glass {
                padding: 16px !important;
            }

            /* Make fixture inputs smaller */
            input[type="number"] {
                width: 40px !important;
                height: 40px !important;
                font-size: 16px !important;
            }

            /* Adjust grid layouts for mobile */
            .grid.lg\\:grid-cols-2 {
                grid-template-columns: 1fr;
            }

            .grid.md\\:grid-cols-2 {
                grid-template-columns: 1fr;
            }

            /* Adjust container padding */
            .py-8 {
                padding-top: 1rem !important;
                padding-bottom: 1rem !important;
            }

            .px-4 {
                padding-left: 0.75rem !important;
                padding-right: 0.75rem !important;
            }

            /* Adjust rounded corners */
            .rounded-2xl {
                border-radius: 1rem !important;
            }

            /* Adjust spacing */
            .mb-6 {
                margin-bottom: 1rem !important;
            }

            .gap-6 {
                gap: 1rem !important;
            }
        }

        @media (max-width: 480px) {
            /* Even more compact on very small screens */
            table {
                font-size: 10px !important;
                width: 100%;
            }

            th, td {
                padding: 4px 1px !important;
            }

            .team-logo, .team-logo-fallback {
                width: 16px;
                height: 16px;
            }

            .position-circle {
                width: 24px;
                height: 24px;
                font-size: 10px;
                line-height: 24px;
                padding: 0;
                margin: 0;
                display: inline-block;
            }

            /* Tighter column widths on very small screens */
            th:nth-child(1), td:nth-child(1) { width: 40px; min-width: 40px; }
            th:nth-child(2), td:nth-child(2) { width: 38px; min-width: 38px; left: 40px !important; } /* Logo only */
            th:nth-child(3), td:nth-child(3) { width: 55px; min-width: 55px; left: 78px !important; }
            th:nth-child(4), td:nth-child(4) { width: 45px; min-width: 45px; }
            th:nth-child(5), td:nth-child(5) { width: 45px; min-width: 45px; }
            th:nth-child(8), td:nth-child(8) { width: 45px; min-width: 45px; }
            th:nth-child(10), td:nth-child(10) { width: 50px; min-width: 50px; }

            /* Smaller PT badge */
            td:nth-child(3) span {
                font-size: 13px !important;
                padding: 4px 8px !important;
            }

            /* Compact stat numbers */
            td:nth-child(n+3) {
                font-size: 13px !important;
            }

            /* Smaller headers */
            th {
                font-size: 9px !important;
            }

            /* Logos on very small screens */
            .team-logo, .team-logo-fallback {
                width: 28px !important;
                height: 28px !important;
            }

            .position-circle {
                width: 26px !important;
                height: 26px !important;
                font-size: 11px !important;
                line-height: 26px !important;
                padding: 0 !important;
                margin: 0 !important;
                display: inline-block !important;
            }

            /* Even smaller advantage badge on very small screens */
            .advantage-badge {
                width: 12px !important;
                height: 12px !important;
            }

            .advantage-badge::before {
                font-size: 8px;
            }

            h1 {
                font-size: 20px !important;
            }

            h2 {
                font-size: 16px !important;
            }

            /* Adjust fixture display */
            .glass.rounded-xl {
                padding: 12px !important;
            }

            /* Make team names in fixtures smaller */
            .font-semibold.text-gray-800.text-sm {
                font-size: 11px !important;
            }

            /* Adjust reset button */
            .bg-red-500 {
                font-size: 12px !important;
                padding: 8px 16px !important;
            }

            /* Make header responsive */
            .flex-wrap {
                justify-content: center !important;
                text-align: center;
            }
        }

        /* Ensure tables can scroll */
        .table-container {
            position: relative;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* Scroll indicator */
        @media (max-width: 768px) {
            .table-container::-webkit-scrollbar {
                height: 4px;
            }

            .table-container::-webkit-scrollbar-thumb {
                background: rgba(255,255,255,0.3);
                border-radius: 2px;
            }
        }

        /* Share button styling */
        .share-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            color: white !important;
            padding: 14px 28px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .share-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .share-button:active {
            transform: translateY(0);
        }

        .share-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .dark-theme .share-button {
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        /* Share watermark */
        .share-watermark {
            text-align: center;
            padding: 12px;
            font-size: 14px;
            font-weight: 600;
            opacity: 0.8;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 8px;
            margin-top: 16px;
        }

        .dark-theme .share-watermark {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
        }

        /* Shareable content container */
        .shareable-content {
            position: relative;
        }

        /* Loading overlay */
        .share-loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            flex-direction: column;
            gap: 16px;
        }

        .share-loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .share-loading-text {
            color: white;
            font-size: 16px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect, useMemo } = React;

        const TeamLogo = ({ team }) => {
            const [imgError, setImgError] = useState(false);
            const initials = team.split(' ').map(w => w[0]).join('').substring(0, 2).toUpperCase();

            if (imgError) {
                return (
                    <div className="team-logo-fallback" title={team}>
                        {initials}
                    </div>
                );
            }

            return (
                <img 
                    src={TEAMS[team].logo} 
                    alt={team} 
                    className="team-logo"
                    onError={() => setImgError(true)}
                />
            );
        };

        // Team data with logos from 365scores CDN
        const TEAMS = {
            'Independiente Medell√≠n': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/8643',
                abbr: 'DIM',
                advantage: true,
                leaguePoints: 40
            },
            'Deportes Tolima': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v3/Competitors/7635',
                abbr: 'TOL',
                advantage: true,
                leaguePoints: 38
            },
            'Atl√©tico Nacional': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v3/Competitors/8640',
                abbr: 'NAL',
                advantage: false,
                leaguePoints: 37
            },
            'Atl√©tico Bucaramanga': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v2/Competitors/10224',
                abbr: 'BUC',
                advantage: false,
                leaguePoints: 37
            },
            'Atl√©tico Junior': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v2/Competitors/7204',
                abbr: 'JUN',
                advantage: false,
                leaguePoints: 35
            },
            'Fortaleza CEIF': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/9844',
                abbr: 'FOR',
                advantage: false,
                leaguePoints: 35
            },
            'Santa Fe': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/7644',
                abbr: 'SFE',
                advantage: false,
                leaguePoints: 31
            },
            'Am√©rica de Cali': {
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/8645',
                abbr: 'AME',
                advantage: false,
                leaguePoints: 29
            }
        };

        // Phase I (Regular Season) Statistics - Liga BetPlay II 2025
        const PHASE_I_STATS = {
            'Independiente Medell√≠n': { played: 20, wins: 12, draws: 4, losses: 4, goalsFor: 46, goalsAgainst: 28 },
            'Deportes Tolima': { played: 20, wins: 12, draws: 2, losses: 6, goalsFor: 29, goalsAgainst: 17 },
            'Atl√©tico Nacional': { played: 20, wins: 10, draws: 7, losses: 3, goalsFor: 38, goalsAgainst: 24 },
            'Atl√©tico Bucaramanga': { played: 20, wins: 11, draws: 4, losses: 5, goalsFor: 31, goalsAgainst: 20 },
            'Atl√©tico Junior': { played: 20, wins: 10, draws: 5, losses: 5, goalsFor: 35, goalsAgainst: 25 },
            'Fortaleza CEIF': { played: 20, wins: 9, draws: 8, losses: 3, goalsFor: 25, goalsAgainst: 19 },
            'Santa Fe': { played: 20, wins: 8, draws: 7, losses: 5, goalsFor: 21, goalsAgainst: 17 },
            'Am√©rica de Cali': { played: 20, wins: 8, draws: 5, losses: 7, goalsFor: 23, goalsAgainst: 19 }
        };

        // Reclasificaci√≥n 2024-2025 - ADJUSTED to include Jornada 1 playoff games
        // DIMAYOR table includes Jornada 1 results
        // Jornada 1 results: Junior 1-0 Medell√≠n, Nacional 1-0 Am√©rica, Fortaleza 0-1 Tolima, Bucaramanga 1-0 Santa Fe
        const ALL_TEAMS_RECLASIFICACION = {
            'Independiente Medell√≠n': { 
                // Original DIMAYOR: 87 pts, 49 PJ | Subtract Jornada 1: -0 pts, -1 PJ, -0 GF, -1 GC
                points: 87, played: 48, wins: 24, draws: 15, losses: 9, 
                goalsFor: 75, goalsAgainst: 45,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/8643',
                phaseIIPoints: 40, inPlayoffs: true
            },
            'Deportes Tolima': { 
                // Original DIMAYOR: 85 pts, 47 PJ | Subtract Jornada 1: -3 pts, -1 PJ, -1 GF, -0 GC
                points: 82, played: 46, wins: 24, draws: 10, losses: 12, 
                goalsFor: 68, goalsAgainst: 44,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v3/Competitors/7635',
                phaseIIPoints: 38, inPlayoffs: true
            },
            'Atl√©tico Nacional': {
                // Jornada 1 result will be added by simulator (Nacional 1-0 Am√©rica)
                points: 80, played: 46, wins: 22, draws: 14, losses: 10,
                goalsFor: 80, goalsAgainst: 50,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v3/Competitors/8640',
                phaseIIPoints: 37, inPlayoffs: true
            },
            'Santa Fe': { 
                // Original DIMAYOR: 80 pts, 49 PJ | Subtract Jornada 1: -0 pts, -1 PJ, -0 GF, -1 GC
                points: 80, played: 48, wins: 22, draws: 14, losses: 12, 
                goalsFor: 59, goalsAgainst: 47,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/7644',
                phaseIIPoints: 31, inPlayoffs: true
            },
            'Am√©rica de Cali': {
                // Jornada 1 result will be added by simulator (Nacional 1-0 Am√©rica)
                points: 77, played: 46, wins: 21, draws: 14, losses: 11,
                goalsFor: 59, goalsAgainst: 38,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/8645',
                phaseIIPoints: 29, inPlayoffs: true
            },
            'Atl√©tico Junior': { 
                // Original DIMAYOR: 76 pts, 47 PJ | Subtract Jornada 1: -3 pts, -1 PJ, -1 GF, -0 GC
                points: 73, played: 46, wins: 20, draws: 13, losses: 13, 
                goalsFor: 63, goalsAgainst: 49,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v2/Competitors/7204',
                phaseIIPoints: 35, inPlayoffs: true
            },
            'Millonarios': { 
                // Not in playoffs
                points: 73, played: 46, wins: 20, draws: 13, losses: 13, 
                goalsFor: 58, goalsAgainst: 47,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v5/Competitors/8637',
                phaseIIPoints: 26, inPlayoffs: false
            },
            'Atl√©tico Bucaramanga': { 
                // Original DIMAYOR: 69 pts, 41 PJ | Subtract Jornada 1: -3 pts, -1 PJ, -1 GF, -0 GC
                points: 66, played: 40, wins: 19, draws: 9, losses: 12, 
                goalsFor: 55, goalsAgainst: 40,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v2/Competitors/10224',
                phaseIIPoints: 37, inPlayoffs: true
            },
            'Once Caldas': { 
                // Not in playoffs
                points: 63, played: 46, wins: 17, draws: 12, losses: 17, 
                goalsFor: 51, goalsAgainst: 53,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v6/Competitors/7289',
                phaseIIPoints: 27, inPlayoffs: false
            },
            'Alianza FC': { 
                // Not in playoffs
                points: 58, played: 40, wins: 16, draws: 10, losses: 14, 
                goalsFor: 47, goalsAgainst: 43,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v3/Competitors/10209',
                phaseIIPoints: 29, inPlayoffs: false
            },
            'Fortaleza CEIF': { 
                // Original DIMAYOR: 55 pts, 41 PJ | Subtract Jornada 1: -0 pts, -1 PJ, -0 GF, -1 GC
                points: 55, played: 40, wins: 14, draws: 13, losses: 13, 
                goalsFor: 40, goalsAgainst: 44,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/9844',
                phaseIIPoints: 35, inPlayoffs: true
            },
            '√Åguilas Doradas': { 
                // Not in playoffs
                points: 48, played: 40, wins: 11, draws: 15, losses: 14, 
                goalsFor: 46, goalsAgainst: 46,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/20841',
                phaseIIPoints: 27, inPlayoffs: false
            },
            'Deportivo Pasto': { 
                // Not in playoffs
                points: 48, played: 40, wins: 12, draws: 12, losses: 16, 
                goalsFor: 46, goalsAgainst: 48,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/9048',
                phaseIIPoints: 19, inPlayoffs: false
            },
            'Deportivo Pereira': { 
                // Not in playoffs
                points: 46, played: 40, wins: 11, draws: 13, losses: 16, 
                goalsFor: 41, goalsAgainst: 57,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v7/Competitors/8638',
                phaseIIPoints: 18, inPlayoffs: false
            },
            'Deportivo Cali': { 
                // Not in playoffs
                points: 45, played: 40, wins: 10, draws: 15, losses: 15, 
                goalsFor: 36, goalsAgainst: 45,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/8639',
                phaseIIPoints: 21, inPlayoffs: false
            },
            'Llaneros FC': { 
                // Not in playoffs
                points: 45, played: 40, wins: 13, draws: 6, losses: 21, 
                goalsFor: 37, goalsAgainst: 53,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v4/Competitors/10378',
                phaseIIPoints: 25, inPlayoffs: false
            },
            'Envigado FC': { 
                // Not in playoffs
                points: 38, played: 40, wins: 9, draws: 11, losses: 20, 
                goalsFor: 34, goalsAgainst: 51,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/8642',
                phaseIIPoints: 20, inPlayoffs: false
            },
            'Uni√≥n Magdalena': { 
                // Not in playoffs
                points: 32, played: 40, wins: 7, draws: 11, losses: 22, 
                goalsFor: 36, goalsAgainst: 62,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v2/Competitors/9832',
                phaseIIPoints: 21, inPlayoffs: false
            },
            'La Equidad': { 
                // Not in playoffs
                points: 24, played: 40, wins: 5, draws: 9, losses: 26, 
                goalsFor: 27, goalsAgainst: 64,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v1/Competitors/8542',
                phaseIIPoints: 14, inPlayoffs: false
            },
            'Boyac√° Chic√≥': { 
                // Not in playoffs - only played 20 games (Liga II 2025 only)
                points: 36, played: 40, wins: 7, draws: 15, losses: 18, 
                goalsFor: 28, goalsAgainst: 60,
                logo: 'https://imagecache.365scores.com/image/upload/f_png,w_24,h_24,c_limit,q_auto:eco,dpr_3,d_Competitors:default1.png/v2/Competitors/8641',
                phaseIIPoints: 16, inPlayoffs: false
            }
        };

        // Campeones confirmados y finalistas de Copa BetPlay para cupos internacionales 2026
        const LIGA_CAMPEONES_2025 = ['Santa Fe'];
        const COPA_BETPLAY_FINALISTS = ['Independiente Medell√≠n', 'Atl√©tico Nacional'];

        // Function to determine international qualification with cascade logic
        const getInternationalQualification = (standings) => {
            const qualifications = {};
            const libertadoresSet = new Set();
            const assign = (team, data) => {
                if (!team || qualifications[team]) return;
                qualifications[team] = data;
            };

            // Step 1: Liga champions get Libertadores
            LIGA_CAMPEONES_2025.forEach(team => {
                assign(team, { tournament: 'Libertadores', reason: 'Campe√≥n Liga 2025' });
                libertadoresSet.add(team);
            });

            // Step 2: Top 2 from reclasificaci√≥n (excluding champions) get Libertadores
            let libertadoresByReclas = 0;
            for (const team of standings) {
                if (libertadoresSet.has(team.team)) continue;
                if (libertadoresByReclas < 2) {
                    assign(team.team, { tournament: 'Libertadores', reason: 'Reclasificaci√≥n (top 2 sin ser campe√≥n)' });
                    libertadoresSet.add(team.team);
                    libertadoresByReclas++;
                }
            }

            // Step 3: Copa BetPlay finalists - if they're not in Libertadores, they get Sudamericana
            const finalistsNotInLibertadores = COPA_BETPLAY_FINALISTS.filter(team => !libertadoresSet.has(team));
            finalistsNotInLibertadores.forEach(team => {
                const opponent = COPA_BETPLAY_FINALISTS.find(f => f !== team);
                assign(team, {
                    tournament: 'Sudamericana',
                    reason: `Copa BetPlay 2025: final vs ${opponent}. Si el campe√≥n ya est√° en Libertadores el cupo pasa al siguiente en reclasificaci√≥n.`,
                    pending: true
                });
            });

            // Step 4: Fill remaining Sudamericana spots (3-5th in reclasificaci√≥n, excluding those already qualified)
            const sudamericanaSlots = 3 + (finalistsNotInLibertadores.length === 0 ? 1 : 0);
            let sudamericanaCount = 0;
            for (const team of standings) {
                if (qualifications[team.team]?.tournament === 'Libertadores') continue;
                if (qualifications[team.team]?.reason?.startsWith('Copa BetPlay')) continue;
                if (sudamericanaCount < sudamericanaSlots) {
                    assign(team.team, { tournament: 'Sudamericana', reason: 'Reclasificaci√≥n (puestos 3¬∞ a 5¬∞ sin Libertadores)' });
                    sudamericanaCount++;
                }
            }

            return qualifications;
        };

        // DATA VERSION - Increment this when you update match results to force a refresh
        const DATA_VERSION = 40; // Second Leg

        const INITIAL_FIXTURES = {
            'A': [
                { jornada: 1, home: 'Atl√©tico Junior', away: 'Independiente Medell√≠n', homeGoals: 1, awayGoals: 0, played: true },
                { jornada: 1, home: 'Atl√©tico Nacional', away: 'Am√©rica de Cali', homeGoals: 1, awayGoals: 0, played: true },
                { jornada: 2, home: 'Independiente Medell√≠n', away: 'Atl√©tico Nacional', homeGoals: 0, awayGoals: 0, played: true },
                { jornada: 2, home: 'Am√©rica de Cali', away: 'Atl√©tico Junior', homeGoals: 1, awayGoals: 1, played: true },
                { jornada: 3, home: 'Atl√©tico Nacional', away: 'Atl√©tico Junior', homeGoals: 1, awayGoals: 1, played: true },
                { jornada: 3, home: 'Am√©rica de Cali', away: 'Independiente Medell√≠n', homeGoals: null, awayGoals: null, played: false },
                { jornada: 4, home: 'Atl√©tico Junior', away: 'Atl√©tico Nacional', homeGoals: null, awayGoals: null, played: false },
                { jornada: 4, home: 'Independiente Medell√≠n', away: 'Am√©rica de Cali', homeGoals: null, awayGoals: null, played: false },
                { jornada: 5, home: 'Atl√©tico Junior', away: 'Am√©rica de Cali', homeGoals: null, awayGoals: null, played: false },
                { jornada: 5, home: 'Atl√©tico Nacional', away: 'Independiente Medell√≠n', homeGoals: null, awayGoals: null, played: false },
                { jornada: 6, home: 'Independiente Medell√≠n', away: 'Atl√©tico Junior', homeGoals: null, awayGoals: null, played: false },
                { jornada: 6, home: 'Am√©rica de Cali', away: 'Atl√©tico Nacional', homeGoals: null, awayGoals: null, played: false }
            ],
            'B': [
                { jornada: 1, home: 'Fortaleza CEIF', away: 'Deportes Tolima', homeGoals: 0, awayGoals: 1, played: true },
                { jornada: 1, home: 'Atl√©tico Bucaramanga', away: 'Santa Fe', homeGoals: 1, awayGoals: 0, played: true },
                { jornada: 2, home: 'Santa Fe', away: 'Fortaleza CEIF', homeGoals: 3, awayGoals: 0, played: true },
                { jornada: 2, home: 'Deportes Tolima', away: 'Atl√©tico Bucaramanga', homeGoals: 0, awayGoals: 0, played: true },
                { jornada: 3, home: 'Santa Fe', away: 'Deportes Tolima', homeGoals: 1, awayGoals: 2, played: true },
                { jornada: 3, home: 'Atl√©tico Bucaramanga', away: 'Fortaleza CEIF', homeGoals: 1, awayGoals: 2, played: true },
                { jornada: 4, home: 'Deportes Tolima', away: 'Santa Fe', homeGoals: null, awayGoals: null, played: false },
                { jornada: 4, home: 'Fortaleza CEIF', away: 'Atl√©tico Bucaramanga', homeGoals: null, awayGoals: null, played: false },
                { jornada: 5, home: 'Fortaleza CEIF', away: 'Santa Fe', homeGoals: null, awayGoals: null, played: false },
                { jornada: 5, home: 'Atl√©tico Bucaramanga', away: 'Deportes Tolima', homeGoals: null, awayGoals: null, played: false },
                { jornada: 6, home: 'Santa Fe', away: 'Atl√©tico Bucaramanga', homeGoals: null, awayGoals: null, played: false },
                { jornada: 6, home: 'Deportes Tolima', away: 'Fortaleza CEIF', homeGoals: null, awayGoals: null, played: false }
            ]
        };

        function App() {
            const [fixtures, setFixtures] = useState(() => {
                // Check if stored data version matches current version
                const savedVersion = localStorage.getItem('ligaBetplayDataVersion');
                const saved = localStorage.getItem('ligaBetplayFixtures');

                // If version doesn't match, clear old data and use new INITIAL_FIXTURES
                if (savedVersion !== String(DATA_VERSION)) {
                    localStorage.removeItem('ligaBetplayFixtures');
                    localStorage.setItem('ligaBetplayDataVersion', String(DATA_VERSION));
                    return INITIAL_FIXTURES;
                }

                return saved ? JSON.parse(saved) : INITIAL_FIXTURES;
            });
            const [activeTab, setActiveTab] = useState('grupoA');
            const [editingMatch, setEditingMatch] = useState(null);
            const [isDarkTheme, setIsDarkTheme] = useState(() => {
                const saved = localStorage.getItem('ligaBetplayTheme');
                return saved ? saved === 'dark' : true; // Default to dark theme
            });
            const [isSharing, setIsSharing] = useState(false);

            // Preserve scroll position during updates
            const scrollPosRef = useRef({ x: 0, y: 0 });

            useEffect(() => {
                // Lock scroll position during input changes
                const handleScroll = () => {
                    if (scrollPosRef.current.locked) {
                        window.scrollTo(scrollPosRef.current.x, scrollPosRef.current.y);
                    }
                };

                window.addEventListener('scroll', handleScroll, { passive: false });

                // Override scrollIntoView on all inputs to prevent browser auto-scroll
                const inputs = document.querySelectorAll('input[type="number"]');
                const originalScrollIntoView = Element.prototype.scrollIntoView;

                inputs.forEach(input => {
                    input.scrollIntoView = function() {
                        // Do nothing - prevent scroll
                    };
                });

                return () => {
                    window.removeEventListener('scroll', handleScroll);
                    Element.prototype.scrollIntoView = originalScrollIntoView;
                };
            }, []);

            useEffect(() => {
                localStorage.setItem('ligaBetplayFixtures', JSON.stringify(fixtures));

                // Re-override scrollIntoView after fixtures update
                setTimeout(() => {
                    const inputs = document.querySelectorAll('input[type="number"]');
                    inputs.forEach(input => {
                        input.scrollIntoView = function() {
                            // Do nothing - prevent scroll
                        };
                    });
                }, 0);
            }, [fixtures]);

            useEffect(() => {
                document.body.className = isDarkTheme ? 'dark-theme' : 'light-theme';
                document.documentElement.style.background = isDarkTheme ? '#0f0f1e' : '#764ba2';
                localStorage.setItem('ligaBetplayTheme', isDarkTheme ? 'dark' : 'light');
            }, [isDarkTheme]);

            const toggleTheme = () => {
                setIsDarkTheme(!isDarkTheme);
            };

            const calculateStandings = (group) => {
                const teams = group === 'A' 
                    ? ['Atl√©tico Junior', 'Independiente Medell√≠n', 'Atl√©tico Nacional', 'Am√©rica de Cali']
                    : ['Deportes Tolima', 'Atl√©tico Bucaramanga', 'Fortaleza CEIF', 'Santa Fe'];
                
                const standings = teams.map(team => {
                    const teamMatches = fixtures[group].filter(m => 
                        m.played && (m.home === team || m.away === team)
                    );

                    let points = 0, played = 0, wins = 0, draws = 0, losses = 0;
                    let goalsFor = 0, goalsAgainst = 0, awayGoalsFor = 0, awayGoalsAgainst = 0;

                    teamMatches.forEach(match => {
                        played++;
                        const isHome = match.home === team;
                        const scored = isHome ? match.homeGoals : match.awayGoals;
                        const conceded = isHome ? match.awayGoals : match.homeGoals;
                        
                        goalsFor += scored;
                        goalsAgainst += conceded;
                        
                        if (!isHome) {
                            awayGoalsFor += scored;
                            awayGoalsAgainst += conceded;
                        }

                        if (scored > conceded) {
                            wins++;
                            points += 3;
                        } else if (scored === conceded) {
                            draws++;
                            points += 1;
                        } else {
                            losses++;
                        }
                    });

                    return {
                        team,
                        points,
                        played,
                        wins,
                        draws,
                        losses,
                        goalsFor,
                        goalsAgainst,
                        goalDiff: goalsFor - goalsAgainst,
                        awayGoalsFor,
                        awayGoalsAgainst,
                        hasAdvantage: TEAMS[team].advantage,
                        leaguePosition: TEAMS[team].leaguePoints
                    };
                });

                // Sort with official DIMAYOR tiebreaker rules (Article 10)
                standings.sort((a, b) => {
                    // 1. First by points
                    if (a.points !== b.points) return b.points - a.points;
                    
                    // 2. If tied on points and one has advantage (positions 1-2 from Phase I), they win
                    if (a.hasAdvantage && !b.hasAdvantage) return -1;
                    if (!a.hasAdvantage && b.hasAdvantage) return 1;
                    
                    // 3. For teams without advantage (or both with/without), apply criteria:
                    // 3.1 Goal difference in playoffs
                    if (a.goalDiff !== b.goalDiff) return b.goalDiff - a.goalDiff;
                    
                    // 3.2 Goals for in playoffs
                    if (a.goalsFor !== b.goalsFor) return b.goalsFor - a.goalsFor;
                    
                    // 3.3 Away goals for in playoffs
                    if (a.awayGoalsFor !== b.awayGoalsFor) return b.awayGoalsFor - a.awayGoalsFor;
                    
                    // 3.4 Away goals against in playoffs (fewer is better)
                    if (a.awayGoalsAgainst !== b.awayGoalsAgainst) return a.awayGoalsAgainst - b.awayGoalsAgainst;
                    
                    // 3.5 Position in Phase I (league points)
                    return b.leaguePosition - a.leaguePosition;
                });

                return standings;
            };

            const getGeneralStandings = () => {
                const groupA = calculateStandings('A');
                const groupB = calculateStandings('B');
                
                const combined = [...groupA, ...groupB].map(team => ({
                    ...team,
                    totalPoints: team.points + TEAMS[team.team].leaguePoints
                }));

                combined.sort((a, b) => {
                    if (a.totalPoints !== b.totalPoints) return b.totalPoints - a.totalPoints;
                    if (a.points !== b.points) return b.points - a.points;
                    if (a.goalDiff !== b.goalDiff) return b.goalDiff - a.goalDiff;
                    if (a.goalsFor !== b.goalsFor) return b.goalsFor - a.goalsFor;
                    return TEAMS[b.team].leaguePoints - TEAMS[a.team].leaguePoints;
                });

                return combined;
            };

            const updateMatch = (group, index, homeGoals, awayGoals) => {
                // Lock scroll position
                scrollPosRef.current.x = window.scrollX;
                scrollPosRef.current.y = window.scrollY;
                scrollPosRef.current.locked = true;

                const newFixtures = { ...fixtures };
                newFixtures[group][index] = {
                    ...newFixtures[group][index],
                    homeGoals: homeGoals === '' ? null : parseInt(homeGoals),
                    awayGoals: awayGoals === '' ? null : parseInt(awayGoals),
                    played: homeGoals !== '' && awayGoals !== ''
                };
                setFixtures(newFixtures);

                // Unlock after a short delay
                setTimeout(() => {
                    scrollPosRef.current.locked = false;
                }, 100);
            };

            const resetData = () => {
                if (confirm('¬øEst√°s seguro de que quieres reiniciar todos los resultados?')) {
                    setFixtures(INITIAL_FIXTURES);
                    localStorage.removeItem('ligaBetplayFixtures');
                    localStorage.setItem('ligaBetplayDataVersion', String(DATA_VERSION));
                }
            };

            const handleShare = async () => {
                setIsSharing(true);

                try {
                    // Detect if mobile or desktop
                    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

                    // Get winners first
                    const groupAStandings = calculateStandings('A');
                    const groupBStandings = calculateStandings('B');
                    const groupAWinner = groupAStandings[0]?.team || 'TBD';
                    const groupBWinner = groupBStandings[0]?.team || 'TBD';

                    // Get the appropriate share summary element based on device
                    const element = document.querySelector(isMobile ? '.share-summary-mobile' : '.share-summary-desktop');
                    if (!element) {
                        throw new Error('Contenido no encontrado');
                    }

                    // Make it visible for screenshot
                    element.style.display = 'block';

                    // Wait for layout and image loading
                    await new Promise(resolve => setTimeout(resolve, 500));

                    // Generate the image
                    const canvas = await html2canvas(element, {
                        backgroundColor: isDarkTheme ? '#1a1a2e' : '#f5f5f5',
                        scale: 2,
                        logging: false,
                        useCORS: true,
                        allowTaint: true
                    });

                    // Hide it again
                    element.style.display = 'none';

                    // Convert to blob
                    const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png', 0.95));
                    const file = new File([blob], 'mi-simulacion-betplay-2025.png', { type: 'image/png' });

                    const shareText = `üèÜ Mi Simulaci√≥n Liga BetPlay 2025 II\n\n` +
                        `Grupo A: ${groupAWinner}\n` +
                        `Grupo B: ${groupBWinner}\n\n` +
                        `¬øQui√©n crees que ganar√°? ü§î\n\n` +
                        `üëâ www.fpcsimulator.online`;

                    // Check if native share is available AND user wants to use it
                    if (navigator.share && navigator.canShare({ files: [file] })) {
                        if (isMobile) {
                            // Mobile: use native share
                            await navigator.share({
                                files: [file],
                                title: 'Mi Simulaci√≥n Liga BetPlay 2025 II',
                                text: shareText
                            });
                        } else {
                            // Desktop: download directly
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = 'mi-simulacion-betplay-2025.png';
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                            alert('¬°Imagen descargada! Comp√°rtela en tus redes sociales üì±');
                        }
                    } else {
                        // Fallback: download
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = 'mi-simulacion-betplay-2025.png';
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                        alert('¬°Imagen descargada! Comp√°rtela en tus redes sociales üì±');
                    }
                } catch (error) {
                    console.error('Error al compartir:', error);
                    alert('Error al generar la imagen. Por favor intenta de nuevo.');
                } finally {
                    setIsSharing(false);
                }
            };

            // Share Summary Component - Shows both group tables for sharing
            const ShareSummaryView = ({ isMobile }) => {
                const groupAStandings = calculateStandings('A');
                const groupBStandings = calculateStandings('B');
                const groupAWinner = groupAStandings[0];
                const groupBWinner = groupBStandings[0];

                // Determine home team based on reclasificaci√≥n
                const groupAWinnerReclasPos = groupAWinner ? TEAMS[groupAWinner.team]?.leaguePoints || 0 : 0;
                const groupBWinnerReclasPos = groupBWinner ? TEAMS[groupBWinner.team]?.leaguePoints || 0 : 0;
                const homeTeam = groupAWinnerReclasPos > groupBWinnerReclasPos ? groupAWinner?.team : groupBWinner?.team;

                const bgColor = isDarkTheme ? '#1a1a2e' : '#f5f5f5';
                const cardBg = isDarkTheme ? '#2a2a3e' : '#ffffff';
                const textPrimary = isDarkTheme ? '#e0e0e0' : '#1a1a2e';
                const textSecondary = isDarkTheme ? '#b0b0b0' : '#666';
                const borderColor = isDarkTheme ? '#444' : '#e0e0e0';

                if (isMobile) {
                    // MOBILE LAYOUT - Vertical, simplified
                    const renderMobileTable = (standings, groupName) => (
                        <div style={{
                            padding: '16px',
                            borderRadius: '12px',
                            backgroundColor: cardBg,
                            marginBottom: '20px',
                            overflow: 'hidden'
                        }}>
                            <h2 style={{
                                fontSize: '20px',
                                fontWeight: '700',
                                marginBottom: '16px',
                                color: textPrimary,
                                textAlign: 'center'
                            }}>
                                Grupo {groupName}
                            </h2>
                            <table style={{ width: '100%', borderCollapse: 'collapse' }}>
                                <thead>
                                    <tr style={{ borderBottom: `2px solid ${borderColor}` }}>
                                        <th style={{ textAlign: 'center', padding: '8px 4px', fontSize: '10px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>POS</th>
                                        <th style={{ textAlign: 'center', padding: '8px 4px', fontSize: '10px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>üèÖ</th>
                                        <th style={{ textAlign: 'center', padding: '8px 4px', fontSize: '10px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>PJ</th>
                                        <th style={{ textAlign: 'center', padding: '8px 4px', fontSize: '10px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>DIF</th>
                                        <th style={{ textAlign: 'center', padding: '8px 4px', fontSize: '10px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>PTS</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {standings.map((team, index) => (
                                        <tr key={team.team} style={{ borderBottom: `1px solid ${borderColor}` }}>
                                            <td style={{
                                                padding: '8px 4px',
                                                textAlign: 'center',
                                                verticalAlign: 'middle',
                                                fontSize: '16px',
                                                fontWeight: '800',
                                                color: index === 0 ? '#10b981' : textPrimary
                                            }}>
                                                {index + 1}
                                            </td>
                                            <td style={{ padding: '8px 4px', textAlign: 'center' }}>
                                                <img
                                                    src={TEAMS[team.team].logo}
                                                    alt={team.team}
                                                    style={{
                                                        width: '32px',
                                                        height: '32px',
                                                        objectFit: 'contain',
                                                        display: 'inline-block'
                                                    }}
                                                />
                                            </td>
                                            <td style={{ textAlign: 'center', padding: '8px 4px', fontSize: '14px', color: textPrimary, fontWeight: '500' }}>
                                                {team.played}
                                            </td>
                                            <td style={{
                                                textAlign: 'center',
                                                padding: '8px 4px',
                                                fontSize: '14px',
                                                fontWeight: '700',
                                                color: team.goalDiff > 0 ? '#10b981' : team.goalDiff < 0 ? '#ef4444' : '#6b7280'
                                            }}>
                                                {team.goalDiff > 0 ? '+' : ''}{team.goalDiff}
                                            </td>
                                            <td style={{
                                                textAlign: 'center',
                                                padding: '8px 4px',
                                                fontSize: '16px',
                                                fontWeight: '800',
                                                color: '#667eea'
                                            }}>
                                                {team.points}
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    );

                    return (
                        <div style={{
                            padding: '20px',
                            width: '100%',
                            maxWidth: '400px',
                            margin: '0 auto',
                            fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',
                            backgroundColor: bgColor,
                            boxSizing: 'border-box'
                        }}>
                            {/* Header */}
                            <div style={{ textAlign: 'center', marginBottom: '24px' }}>
                                <h1 style={{
                                    fontSize: '26px',
                                    fontWeight: '800',
                                    color: textPrimary,
                                    marginBottom: '8px'
                                }}>
                                    üèÜ Liga BetPlay 2025 II
                                </h1>
                                <p style={{
                                    fontSize: '15px',
                                    color: textSecondary,
                                    fontWeight: '600'
                                }}>
                                    Mi Simulaci√≥n de Cuadrangulares
                                </p>
                            </div>

                            {/* Tables */}
                            {renderMobileTable(groupAStandings, 'A')}
                            {renderMobileTable(groupBStandings, 'B')}

                            {/* Final */}
                            <div style={{
                                padding: '20px',
                                borderRadius: '12px',
                                backgroundColor: cardBg,
                                marginBottom: '20px',
                                textAlign: 'center'
                            }}>
                                <p style={{
                                    fontSize: '14px',
                                    fontWeight: '700',
                                    color: textPrimary,
                                    marginBottom: '12px'
                                }}>
                                    üèüÔ∏è Final Predicha
                                </p>
                                <div style={{ marginBottom: '8px' }}>
                                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px', marginBottom: '8px' }}>
                                        {homeTeam === groupAWinner?.team && (
                                            <span style={{
                                                fontSize: '20px'
                                            }}>
                                                üè†
                                            </span>
                                        )}
                                        <img src={TEAMS[groupAWinner?.team].logo} alt="" style={{ width: '32px', height: '32px', objectFit: 'contain', flexShrink: 0 }} />
                                        <span style={{ fontSize: '16px', fontWeight: '700', color: '#667eea', lineHeight: '1.2' }}>
                                            {groupAWinner?.team}
                                        </span>
                                    </div>
                                    <div style={{ fontSize: '18px', fontWeight: '700', color: textSecondary, margin: '4px 0' }}>VS</div>
                                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px' }}>
                                        <span style={{ fontSize: '16px', fontWeight: '700', color: '#764ba2', lineHeight: '1.2' }}>
                                            {groupBWinner?.team}
                                        </span>
                                        <img src={TEAMS[groupBWinner?.team].logo} alt="" style={{ width: '32px', height: '32px', objectFit: 'contain', flexShrink: 0 }} />
                                        {homeTeam === groupBWinner?.team && (
                                            <span style={{
                                                fontSize: '20px'
                                            }}>
                                                üè†
                                            </span>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Watermark */}
                            <div style={{
                                textAlign: 'center',
                                padding: '16px',
                                background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%)',
                                borderRadius: '10px',
                                border: `2px solid ${isDarkTheme ? 'rgba(102, 126, 234, 0.3)' : 'rgba(118, 75, 162, 0.3)'}`
                            }}>
                                <div style={{ fontSize: '13px', fontWeight: '700', color: textPrimary, marginBottom: '4px' }}>
                                    üèÜ Liga BetPlay 2025 II
                                </div>
                                <div style={{ fontSize: '11px', color: textSecondary, fontWeight: '600' }}>
                                    www.fpcsimulator.online
                                </div>
                            </div>
                        </div>
                    );
                }

                // DESKTOP LAYOUT - Horizontal, full data
                const renderDesktopTable = (standings, groupName) => (
                    <div style={{
                        padding: '24px',
                        borderRadius: '16px',
                        backgroundColor: cardBg,
                        boxShadow: '0 4px 6px rgba(0,0,0,0.1)'
                    }}>
                        <h2 style={{
                            fontSize: '24px',
                            fontWeight: '700',
                            marginBottom: '20px',
                            color: textPrimary,
                            textAlign: 'center'
                        }}>
                            Grupo {groupName}
                        </h2>
                        <table style={{ width: '100%', borderCollapse: 'collapse' }}>
                            <thead>
                                <tr style={{ borderBottom: `2px solid ${borderColor}` }}>
                                    <th style={{ textAlign: 'center', padding: '12px 8px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>POS</th>
                                    <th style={{ textAlign: 'left', padding: '12px 8px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>EQUIPO</th>
                                    <th style={{ textAlign: 'center', padding: '12px 6px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>PJ</th>
                                    <th style={{ textAlign: 'center', padding: '12px 6px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>G</th>
                                    <th style={{ textAlign: 'center', padding: '12px 6px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>E</th>
                                    <th style={{ textAlign: 'center', padding: '12px 6px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>P</th>
                                    <th style={{ textAlign: 'center', padding: '12px 6px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>GF</th>
                                    <th style={{ textAlign: 'center', padding: '12px 6px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>GC</th>
                                    <th style={{ textAlign: 'center', padding: '12px 6px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>DIF</th>
                                    <th style={{ textAlign: 'center', padding: '12px 8px', fontSize: '11px', color: textSecondary, fontWeight: '600', textTransform: 'uppercase' }}>PTS</th>
                                </tr>
                            </thead>
                            <tbody>
                                {standings.map((team, index) => (
                                    <tr key={team.team} style={{ borderBottom: `1px solid ${borderColor}`, height: '56px' }}>
                                        <td style={{
                                            textAlign: 'center',
                                            padding: '12px 0',
                                            height: '56px',
                                            verticalAlign: 'middle',
                                            fontSize: '18px',
                                            fontWeight: '800',
                                            color: index === 0 ? '#10b981' : textPrimary
                                        }}>
                                            {index + 1}
                                        </td>
                                        <td style={{ padding: '12px 8px', height: '56px' }}>
                                            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                                                <div style={{
                                                    width: '32px',
                                                    height: '32px',
                                                    display: 'flex',
                                                    alignItems: 'center',
                                                    justifyContent: 'center',
                                                    flexShrink: 0
                                                }}>
                                                    <img
                                                        src={TEAMS[team.team].logo}
                                                        alt={team.team}
                                                        style={{
                                                            maxWidth: '32px',
                                                            maxHeight: '32px',
                                                            objectFit: 'contain'
                                                        }}
                                                    />
                                                </div>
                                                <span style={{
                                                    fontWeight: '600',
                                                    fontSize: '14px',
                                                    color: textPrimary,
                                                    whiteSpace: 'nowrap'
                                                }}>
                                                    {team.team}
                                                </span>
                                            </div>
                                        </td>
                                        <td style={{ textAlign: 'center', padding: '12px 0', fontSize: '14px', color: textPrimary, fontWeight: '500', height: '56px' }}>
                                            {team.played}
                                        </td>
                                        <td style={{ textAlign: 'center', padding: '12px 0', fontSize: '14px', color: textPrimary, fontWeight: '500', height: '56px' }}>
                                            {team.wins}
                                        </td>
                                        <td style={{ textAlign: 'center', padding: '12px 0', fontSize: '14px', color: textPrimary, fontWeight: '500', height: '56px' }}>
                                            {team.draws}
                                        </td>
                                        <td style={{ textAlign: 'center', padding: '12px 0', fontSize: '14px', color: textPrimary, fontWeight: '500', height: '56px' }}>
                                            {team.losses}
                                        </td>
                                        <td style={{ textAlign: 'center', padding: '12px 0', fontSize: '14px', color: textPrimary, fontWeight: '500', height: '56px' }}>
                                            {team.goalsFor}
                                        </td>
                                        <td style={{ textAlign: 'center', padding: '12px 0', fontSize: '14px', color: textPrimary, fontWeight: '500', height: '56px' }}>
                                            {team.goalsAgainst}
                                        </td>
                                        <td style={{
                                            textAlign: 'center',
                                            padding: '12px 0',
                                            fontSize: '14px',
                                            fontWeight: '700',
                                            color: team.goalDiff > 0 ? '#10b981' : team.goalDiff < 0 ? '#ef4444' : '#6b7280',
                                            height: '56px'
                                        }}>
                                            {team.goalDiff > 0 ? '+' : ''}{team.goalDiff}
                                        </td>
                                        <td style={{
                                            textAlign: 'center',
                                            padding: '12px 0',
                                            height: '56px',
                                            fontSize: '18px',
                                            fontWeight: '800',
                                            color: '#667eea'
                                        }}>
                                            {team.points}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                );

                return (
                    <div style={{
                        padding: '48px',
                        width: '1200px',
                        margin: '0 auto',
                        fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',
                        backgroundColor: bgColor
                    }}>
                        {/* Header */}
                        <div style={{ textAlign: 'center', marginBottom: '40px' }}>
                            <h1 style={{
                                fontSize: '42px',
                                fontWeight: '800',
                                color: textPrimary,
                                marginBottom: '12px',
                                letterSpacing: '-0.5px'
                            }}>
                                üèÜ Liga BetPlay 2025 II
                            </h1>
                            <p style={{
                                fontSize: '22px',
                                color: textSecondary,
                                fontWeight: '600'
                            }}>
                                Mi Simulaci√≥n de Cuadrangulares
                            </p>
                        </div>

                        {/* Both Group Tables Side by Side */}
                        <div style={{
                            display: 'grid',
                            gridTemplateColumns: '1fr 1fr',
                            gap: '32px',
                            marginBottom: '40px'
                        }}>
                            {renderDesktopTable(groupAStandings, 'A')}
                            {renderDesktopTable(groupBStandings, 'B')}
                        </div>

                        {/* Final Info */}
                        <div style={{
                            padding: '28px',
                            borderRadius: '16px',
                            textAlign: 'center',
                            backgroundColor: cardBg,
                            marginBottom: '32px',
                            boxShadow: '0 4px 6px rgba(0,0,0,0.1)'
                        }}>
                            <p style={{
                                fontSize: '20px',
                                fontWeight: '700',
                                color: textPrimary,
                                marginBottom: '16px'
                            }}>
                                üèüÔ∏è Final Predicha
                            </p>
                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '24px' }}>
                                <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                                    {homeTeam === groupAWinner?.team && (
                                        <span style={{
                                            fontSize: '24px'
                                        }}>
                                            üè†
                                        </span>
                                    )}
                                    <img
                                        src={TEAMS[groupAWinner?.team].logo}
                                        alt={groupAWinner?.team}
                                        style={{
                                            width: '48px',
                                            height: '48px',
                                            objectFit: 'contain',
                                            flexShrink: 0
                                        }}
                                    />
                                    <span style={{
                                        fontSize: '24px',
                                        fontWeight: '800',
                                        color: '#667eea',
                                        lineHeight: '1.2'
                                    }}>
                                        {groupAWinner?.team}
                                    </span>
                                </div>
                                <span style={{
                                    fontSize: '28px',
                                    fontWeight: '700',
                                    color: textSecondary,
                                    lineHeight: '1'
                                }}>
                                    VS
                                </span>
                                <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                                    <span style={{
                                        fontSize: '24px',
                                        fontWeight: '800',
                                        color: '#764ba2',
                                        lineHeight: '1.2'
                                    }}>
                                        {groupBWinner?.team}
                                    </span>
                                    <img
                                        src={TEAMS[groupBWinner?.team].logo}
                                        alt={groupBWinner?.team}
                                        style={{
                                            width: '48px',
                                            height: '48px',
                                            objectFit: 'contain',
                                            flexShrink: 0
                                        }}
                                    />
                                    {homeTeam === groupBWinner?.team && (
                                        <span style={{
                                            fontSize: '24px'
                                        }}>
                                            üè†
                                        </span>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Watermark */}
                        <div style={{
                            textAlign: 'center',
                            padding: '20px',
                            background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%)',
                            borderRadius: '12px',
                            border: `2px solid ${isDarkTheme ? 'rgba(102, 126, 234, 0.3)' : 'rgba(118, 75, 162, 0.3)'}`
                        }}>
                            <div style={{
                                fontSize: '16px',
                                fontWeight: '700',
                                color: textPrimary,
                                marginBottom: '6px'
                            }}>
                                üèÜ Liga BetPlay 2025 II - Simulador de Cuadrangulares
                            </div>
                            <div style={{
                                fontSize: '14px',
                                color: textSecondary,
                                fontWeight: '600'
                            }}>
                                Simula tu propia predicci√≥n en: www.fpcsimulator.online
                            </div>
                        </div>
                    </div>
                );
            };

            const StandingsTable = ({ standings, group }) => (
                <div className="overflow-x-auto">
                    <table className="w-full">
                        <thead>
                            <tr className="border-b-2 border-gray-200">
                                <th className="text-left py-3 px-2 text-xs font-semibold text-gray-600 uppercase">Pos</th>
                                <th className="text-left py-3 px-4 text-xs font-semibold text-gray-600 uppercase">Equipo</th>
                                <th className="text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">PJ</th>
                                <th className="col-goals-combined text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">G</th>
                                <th className="col-dif text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">DIF</th>
                                <th className="text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">Pts</th>
                                <th className="col-wins text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">G</th>
                                <th className="col-draws text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">E</th>
                                <th className="col-losses text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">P</th>
                                <th className="col-gf text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">GF</th>
                                <th className="col-gc text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">GC</th>
                            </tr>
                        </thead>
                        <tbody>
                            {standings.map((team, index) => (
                                <tr key={team.team} className="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                                    <td className="py-3 px-2">
                                        <div className={`position-circle ${index === 0 ? 'qualified' : 'bg-gray-200 text-gray-700'}`}>
                                            {index + 1}
                                        </div>
                                    </td>
                                    <td className="py-3 px-4">
                                        <div className="flex items-center gap-3">
                                            <TeamLogo team={team.team} />
                                            <div>
                                                <div className="font-semibold text-gray-800">{team.team}</div>
                                                {team.hasAdvantage && (
                                                    <span className="advantage-badge text-white text-xs px-2 py-0.5 rounded-full mt-1 inline-block">
                                                        Ventaja Deportiva
                                                    </span>
                                                )}
                                            </div>
                                        </div>
                                    </td>
                                    <td className="text-center py-3 px-2 text-gray-700 font-medium">{team.played}</td>
                                    <td className="col-goals-combined text-center py-3 px-2 text-gray-700 font-medium">{team.goalsFor}:{team.goalsAgainst}</td>
                                    <td className="col-dif text-center py-3 px-2 font-bold" style={{color: team.goalDiff > 0 ? '#10b981' : team.goalDiff < 0 ? '#ef4444' : '#6b7280'}}>
                                        {team.goalDiff > 0 ? '+' : ''}{team.goalDiff}
                                    </td>
                                    <td className="text-center py-3 px-2">
                                        <span className="bg-indigo-600 text-white font-bold px-3 py-1 rounded-lg">
                                            {team.points}
                                        </span>
                                    </td>
                                    <td className="col-wins text-center py-3 px-2 text-gray-700 font-medium">{team.wins}</td>
                                    <td className="col-draws text-center py-3 px-2 text-gray-700 font-medium">{team.draws}</td>
                                    <td className="col-losses text-center py-3 px-2 text-gray-700 font-medium">{team.losses}</td>
                                    <td className="col-gf text-center py-3 px-2 text-gray-700 font-medium">{team.goalsFor}</td>
                                    <td className="col-gc text-center py-3 px-2 text-gray-700 font-medium">{team.goalsAgainst}</td>
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
            );

            const FixturesList = ({ group }) => {
                const groupedByJornada = fixtures[group].reduce((acc, match, index) => {
                    if (!acc[match.jornada]) acc[match.jornada] = [];
                    acc[match.jornada].push({ ...match, index });
                    return acc;
                }, {});

                return (
                    <div className="space-y-6">
                        {Object.entries(groupedByJornada).map(([jornada, matches]) => (
                            <div key={jornada}>
                                <h3 className={`text-lg font-bold mb-3 flex items-center gap-2 ${isDarkTheme ? 'text-gray-200' : 'text-gray-800'}`}>
                                    <span className={`px-3 py-1 rounded-lg ${isDarkTheme ? 'bg-indigo-900/50 text-indigo-300' : 'bg-indigo-100 text-indigo-700'}`}>
                                        Jornada {jornada}
                                    </span>
                                </h3>
                                <div className="space-y-3">
                                    {matches.map((match) => (
                                        <div key={match.index} className="glass rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow">
                                            <div className="flex items-center justify-between gap-4">
                                                <div className="flex items-center gap-3 flex-1">
                                                    <TeamLogo team={match.home} />
                                                    <span className="font-semibold text-gray-800 text-sm">
                                                        <span className="md:hidden">{TEAMS[match.home].abbr}</span>
                                                        <span className="hidden md:inline">{match.home}</span>
                                                    </span>
                                                </div>
                                                
                                                <div className="flex items-center gap-3">
                                                    <input
                                                        type="number"
                                                        min="0"
                                                        max="99"
                                                        value={match.homeGoals ?? ''}
                                                        onChange={(e) => {
                                                            e.preventDefault();
                                                            updateMatch(group, match.index, e.target.value, match.awayGoals ?? '');
                                                        }}
                                                        onFocus={(e) => {
                                                            scrollPosRef.current.x = window.scrollX;
                                                            scrollPosRef.current.y = window.scrollY;
                                                        }}
                                                        className={`w-14 h-12 text-center text-xl font-bold border-2 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none ${isDarkTheme ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300 text-gray-900'}`}
                                                        placeholder="-"
                                                    />
                                                    <span className={`font-bold text-xl ${isDarkTheme ? 'text-gray-500' : 'text-gray-400'}`}>:</span>
                                                    <input
                                                        type="number"
                                                        min="0"
                                                        max="99"
                                                        value={match.awayGoals ?? ''}
                                                        onChange={(e) => {
                                                            e.preventDefault();
                                                            updateMatch(group, match.index, match.homeGoals ?? '', e.target.value);
                                                        }}
                                                        onFocus={(e) => {
                                                            scrollPosRef.current.x = window.scrollX;
                                                            scrollPosRef.current.y = window.scrollY;
                                                        }}
                                                        className={`w-14 h-12 text-center text-xl font-bold border-2 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none ${isDarkTheme ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300 text-gray-900'}`}
                                                        placeholder="-"
                                                    />
                                                </div>

                                                <div className="flex items-center gap-3 flex-1 justify-end">
                                                    <span className="font-semibold text-gray-800 text-sm text-right">
                                                        <span className="md:hidden">{TEAMS[match.away].abbr}</span>
                                                        <span className="hidden md:inline">{match.away}</span>
                                                    </span>
                                                    <TeamLogo team={match.away} />
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>
                );
            };

            const GeneralStandingsTable = () => {
                const standings = getGeneralStandings();
                const groupAStandings = calculateStandings('A');
                const groupBStandings = calculateStandings('B');
                const groupALeader = groupAStandings[0];
                const groupBLeader = groupBStandings[0];
                
                // Determine home advantage for final
                const groupALeaderTotal = groupALeader.points + TEAMS[groupALeader.team].leaguePoints;
                const groupBLeaderTotal = groupBLeader.points + TEAMS[groupBLeader.team].leaguePoints;
                let homeTeam = null;
                
                if (groupALeaderTotal > groupBLeaderTotal) {
                    homeTeam = groupALeader.team;
                } else if (groupBLeaderTotal > groupALeaderTotal) {
                    homeTeam = groupBLeader.team;
                } else {
                    // Tied on total points - check playoff points
                    if (groupALeader.points > groupBLeader.points) {
                        homeTeam = groupALeader.team;
                    } else if (groupBLeader.points > groupALeader.points) {
                        homeTeam = groupBLeader.team;
                    } else {
                        // Still tied - check if one has advantage
                        if (groupALeader.hasAdvantage && !groupBLeader.hasAdvantage) {
                            homeTeam = groupALeader.team;
                        } else if (groupBLeader.hasAdvantage && !groupALeader.hasAdvantage) {
                            homeTeam = groupBLeader.team;
                        }
                    }
                }
                
                return (
                    <div className="overflow-x-auto">
                        <table className="w-full">
                            <thead>
                                <tr className="border-b-2 border-gray-200">
                                    <th className="text-left py-3 px-2 text-xs font-semibold text-gray-600 uppercase">Pos</th>
                                    <th className="text-left py-3 px-4 text-xs font-semibold text-gray-600 uppercase">Equipo</th>
                                    <th className="text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">PJ</th>
                                    <th className="col-goals-combined text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">G</th>
                                    <th className="col-dif text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">DIF</th>
                                    <th className="text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">Total</th>
                                    <th className="text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">Pts Cuad.</th>
                                    <th className="text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">Pts Liga</th>
                                    <th className="col-wins text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">G</th>
                                    <th className="col-draws text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">E</th>
                                    <th className="col-losses text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">P</th>
                                    <th className="col-gf text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">GF</th>
                                    <th className="col-gc text-center py-3 px-2 text-xs font-semibold text-gray-600 uppercase">GC</th>
                                </tr>
                            </thead>
                            <tbody>
                                {standings.map((team, index) => (
                                    <tr key={team.team} className="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                                        <td className="py-3 px-2">
                                            <div className={`position-circle ${index === 0 ? 'qualified' : 'bg-gray-200 text-gray-700'}`}>
                                                {index + 1}
                                            </div>
                                        </td>
                                        <td className="py-3 px-4">
                                            <div className="flex items-center gap-3">
                                                <TeamLogo team={team.team} />
                                                <div>
                                                    <div className="font-semibold text-gray-800">{team.team}</div>
                                                    {team.hasAdvantage && (
                                                        <span className="advantage-badge text-white text-xs px-2 py-0.5 rounded-full mt-1 inline-block">
                                                            Ventaja Deportiva
                                                        </span>
                                                    )}
                                                </div>
                                            </div>
                                        </td>
                                        <td className="text-center py-3 px-2 text-gray-700 font-medium">{PHASE_I_STATS[team.team].played + team.played}</td>
                                        <td className="col-goals-combined text-center py-3 px-2 text-gray-700 font-medium">{PHASE_I_STATS[team.team].goalsFor + team.goalsFor}:{PHASE_I_STATS[team.team].goalsAgainst + team.goalsAgainst}</td>
                                        <td className="col-dif text-center py-3 px-2 font-bold" style={{color: (() => {
                                            const totalDiff = (PHASE_I_STATS[team.team].goalsFor + team.goalsFor) - (PHASE_I_STATS[team.team].goalsAgainst + team.goalsAgainst);
                                            return totalDiff > 0 ? '#10b981' : totalDiff < 0 ? '#ef4444' : '#6b7280';
                                        })()}}>
                                            {(() => {
                                                const totalDiff = (PHASE_I_STATS[team.team].goalsFor + team.goalsFor) - (PHASE_I_STATS[team.team].goalsAgainst + team.goalsAgainst);
                                                return totalDiff > 0 ? '+' + totalDiff : totalDiff;
                                            })()}
                                        </td>
                                        <td className="text-center py-3 px-2">
                                            <span className="bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold px-3 py-1 rounded-lg">
                                                {team.totalPoints}
                                            </span>
                                        </td>
                                        <td className="text-center py-3 px-2">
                                            <span className="bg-indigo-600 text-white font-bold px-3 py-1 rounded-lg">
                                                {team.points}
                                            </span>
                                        </td>
                                        <td className="text-center py-3 px-2 text-gray-600 font-medium">
                                            {TEAMS[team.team].leaguePoints}
                                        </td>
                                        <td className="col-wins text-center py-3 px-2 text-gray-700 font-medium">{PHASE_I_STATS[team.team].wins + team.wins}</td>
                                        <td className="col-draws text-center py-3 px-2 text-gray-700 font-medium">{PHASE_I_STATS[team.team].draws + team.draws}</td>
                                        <td className="col-losses text-center py-3 px-2 text-gray-700 font-medium">{PHASE_I_STATS[team.team].losses + team.losses}</td>
                                        <td className="col-gf text-center py-3 px-2 text-gray-700 font-medium">{PHASE_I_STATS[team.team].goalsFor + team.goalsFor}</td>
                                        <td className="col-gc text-center py-3 px-2 text-gray-700 font-medium">{PHASE_I_STATS[team.team].goalsAgainst + team.goalsAgainst}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                );
            };

            const ReclasificacionTable = () => {
                // Get playoff standings for current teams in playoffs
                const groupAStandings = calculateStandings('A');
                const groupBStandings = calculateStandings('B');
                const allPlayoffTeams = [...groupAStandings, ...groupBStandings];
                
                // Create reclasificaci√≥n standings for ALL 20 teams (2024-2025 accumulated)
                const reclasificacionStandings = Object.keys(ALL_TEAMS_RECLASIFICACION).map(teamName => {
                    const teamData = ALL_TEAMS_RECLASIFICACION[teamName];
                    
                    // Only add playoff stats if team is in playoffs
                    let playoffStats = { played: 0, wins: 0, draws: 0, losses: 0, goalsFor: 0, goalsAgainst: 0, points: 0 };
                    if (teamData.inPlayoffs) {
                        const playoffTeam = allPlayoffTeams.find(t => t.team === teamName);
                        if (playoffTeam) {
                            playoffStats = playoffTeam;
                        }
                    }
                    
                    return {
                        team: teamName,
                        played: teamData.played + playoffStats.played,
                        wins: teamData.wins + playoffStats.wins,
                        draws: teamData.draws + playoffStats.draws,
                        losses: teamData.losses + playoffStats.losses,
                        goalsFor: teamData.goalsFor + playoffStats.goalsFor,
                        goalsAgainst: teamData.goalsAgainst + playoffStats.goalsAgainst,
                        totalPoints: teamData.points + playoffStats.points,
                        logo: teamData.logo,
                        inPlayoffs: teamData.inPlayoffs
                    };
                }).sort((a, b) => {
                    if (b.totalPoints !== a.totalPoints) return b.totalPoints - a.totalPoints;
                    const diffA = a.goalsFor - a.goalsAgainst;
                    const diffB = b.goalsFor - b.goalsAgainst;
                    if (diffB !== diffA) return diffB - diffA;
                    if (b.goalsFor !== a.goalsFor) return b.goalsFor - a.goalsFor;
                    return 0;
                });

                // Get international qualification using cascade logic
                const qualificationMap = getInternationalQualification(reclasificacionStandings);

                return (
                    <div className="overflow-x-auto">
                        <table className="w-full">
                            <thead>
                                <tr className={`border-b-2 ${isDarkTheme ? 'border-gray-700' : 'border-gray-200'}`}>
                                    <th className={`text-left py-3 px-2 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>Pos</th>
                                    <th className={`text-left py-3 px-2 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>Equipo</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>PT</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>PJ</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>PG</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>PE</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>PP</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>GF</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>GC</th>
                                    <th className={`text-center py-3 px-3 text-xs font-semibold uppercase ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>DG</th>
                                </tr>
                            </thead>
                            <tbody>
                                {reclasificacionStandings.map((team, index) => {
                                    const goalDiff = team.goalsFor - team.goalsAgainst;
                                    const qualification = qualificationMap[team.team];

                                    // Determine position circle color based on qualification
                                    let positionClass = isDarkTheme ? 'bg-gray-700 text-gray-300' : 'bg-gray-200 text-gray-700';
                                    if (qualification) {
                                        if (qualification.tournament === 'Libertadores') {
                                            positionClass = 'qualification-libertadores';
                                        } else if (qualification.tournament === 'Sudamericana') {
                                            positionClass = 'qualification-sudamericana';
                                        }
                                    }

                                    return (
                                        <tr key={team.team} className={`border-b transition-colors ${isDarkTheme ? 'border-gray-800 hover:bg-gray-800/50' : 'border-gray-100 hover:bg-gray-50'}`}>
                                            <td className="py-3 px-2">
                                                <div className={`position-circle ${positionClass}`}>
                                                    {index + 1}
                                                </div>
                                            </td>
                                            <td className="py-3 px-2" style={{maxWidth: '280px'}}>
                                                <div className="flex items-center gap-2">
                                                    <img
                                                        src={team.logo}
                                                        alt={team.team}
                                                        className="team-logo"
                                                    />
                                                    <div className="flex-1 min-w-0">
                                                        <div className={`font-semibold text-sm ${isDarkTheme ? 'text-gray-200' : 'text-gray-800'}`}>{team.team}</div>
                                                        <div className="flex flex-wrap gap-1 mt-0.5">
                                                            {team.inPlayoffs && (
                                                                <span className={`text-[10px] px-1.5 py-0.5 rounded-full inline-block leading-tight ${isDarkTheme ? 'bg-purple-900/50 text-purple-300' : 'bg-purple-100 text-purple-700'}`}>
                                                                    En Cuadrangulares
                                                                </span>
                                                            )}
                                                            {qualification && (
                                                                <span className={`text-[10px] px-1.5 py-0.5 rounded-full inline-block font-semibold leading-tight ${
                                                                    qualification.tournament === 'Libertadores'
                                                                        ? 'bg-blue-600 text-white'
                                                                        : 'bg-gradient-to-r from-orange-500 to-red-500 text-white'
                                                                }`}>
                                                                    {qualification.tournament} - {qualification.reason}
                                                                </span>
                                                            )}
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td className="text-center py-3 px-3">
                                                <span className="bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold px-4 py-1.5 rounded-lg text-lg">
                                                    {team.totalPoints}
                                                </span>
                                            </td>
                                            <td className={`text-center py-3 px-3 font-semibold text-base ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>{team.played}</td>
                                            <td className={`text-center py-3 px-3 font-semibold text-base ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>{team.wins}</td>
                                            <td className={`text-center py-3 px-3 font-semibold text-base ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>{team.draws}</td>
                                            <td className={`text-center py-3 px-3 font-semibold text-base ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>{team.losses}</td>
                                            <td className={`text-center py-3 px-3 font-semibold text-base ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>{team.goalsFor}</td>
                                            <td className={`text-center py-3 px-3 font-semibold text-base ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>{team.goalsAgainst}</td>
                                            <td className="text-center py-3 px-3 font-bold text-base" style={{color: goalDiff > 0 ? '#10b981' : goalDiff < 0 ? '#ef4444' : '#6b7280'}}>
                                                {goalDiff > 0 ? '+' : ''}{goalDiff}
                                            </td>
                                        </tr>
                                    );
                                })}
                            </tbody>
                        </table>
                    </div>
                );
            };

            return (
                <>
                    {/* Theme Toggle Button */}
                    <button 
                        onClick={toggleTheme}
                        className="theme-toggle"
                        title={isDarkTheme ? 'Cambiar a tema claro' : 'Cambiar a tema oscuro'}
                    >
                        <span>{isDarkTheme ? '‚òÄÔ∏è' : 'üåô'}</span>
                        <span>{isDarkTheme ? 'Claro' : 'Oscuro'}</span>
                    </button>

                    <div className="min-h-screen py-8 px-4">
                        <div className="max-w-7xl mx-auto">
                            {/* Header */}
                            <div className="glass rounded-2xl p-8 mb-6 shadow-xl">
                                <div className="flex items-center justify-between flex-wrap gap-4">
                                    <div>
                                        <h1 className="text-4xl font-extrabold text-gray-900 mb-2">Liga BetPlay 2025 II</h1>
                                        <p className="text-gray-600 text-lg">Cuadrangulares Semifinales</p>
                                    </div>
                                    <button
                                        onClick={resetData}
                                        className="bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-3 rounded-lg shadow-md transition-colors"
                                    >
                                        Reiniciar Resultados
                                    </button>
                                </div>
                            </div>

                        {/* Share Button */}
                        <div className="text-center mb-6">
                            <button
                                onClick={handleShare}
                                disabled={isSharing}
                                className="share-button"
                            >
                                <span>{isSharing ? '‚è≥' : 'üì§'}</span>
                                <span>{isSharing ? 'Generando imagen...' : 'Compartir Mi Simulaci√≥n'}</span>
                            </button>
                        </div>

                        {/* Shareable Content */}
                        <div className="shareable-content">
                        {/* Tabs */}
                        <div className="glass rounded-2xl p-2 mb-6 shadow-lg">
                            <div className="flex flex-wrap gap-2">
                                {['grupoA', 'grupoB', 'general', 'reclasificacion'].map(tab => {
                                    const labels = {
                                        grupoA: { short: 'Grupo A', full: 'Grupo A' },
                                        grupoB: { short: 'Grupo B', full: 'Grupo B' },
                                        general: { short: 'General', full: 'Tabla General' },
                                        reclasificacion: { short: 'Reclas.', full: 'Reclasificaci√≥n' }
                                    };
                                    return (
                                        <button
                                            key={tab}
                                            onClick={() => setActiveTab(tab)}
                                            className={`flex-1 min-w-[80px] px-4 py-3 rounded-xl font-semibold transition-all ${
                                                activeTab === tab
                                                    ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg'
                                                    : isDarkTheme ? 'text-gray-300 hover:bg-gray-700' : 'text-gray-700 hover:bg-gray-100'
                                            }`}
                                        >
                                            <span className="md:hidden">{labels[tab].short}</span>
                                            <span className="hidden md:inline">{labels[tab].full}</span>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Content */}
                        {activeTab === 'grupoA' && (
                            <div className="grid lg:grid-cols-2 gap-6">
                                <div className="glass rounded-2xl p-6 shadow-xl">
                                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Tabla Grupo A</h2>
                                    <StandingsTable standings={calculateStandings('A')} group="A" />
                                </div>
                                <div className="glass rounded-2xl p-6 shadow-xl">
                                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Resultados Grupo A</h2>
                                    <FixturesList group="A" />
                                </div>
                            </div>
                        )}

                        {activeTab === 'grupoB' && (
                            <div className="grid lg:grid-cols-2 gap-6">
                                <div className="glass rounded-2xl p-6 shadow-xl">
                                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Tabla Grupo B</h2>
                                    <StandingsTable standings={calculateStandings('B')} group="B" />
                                </div>
                                <div className="glass rounded-2xl p-6 shadow-xl">
                                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Resultados Grupo B</h2>
                                    <FixturesList group="B" />
                                </div>
                            </div>
                        )}

                        {activeTab === 'general' && (
                            <div className="glass rounded-2xl p-6 shadow-xl">
                                <h2 className="text-2xl font-bold text-gray-900 mb-6">Tabla General de Clasificaci√≥n (Todos contra todos + cuadrangulares)</h2>
                                <GeneralStandingsTable />
                                
                                {/* Final Matchup Information */}
                                <div className="mt-6 space-y-4">
                                    <div className={`p-6 rounded-xl border-2 ${isDarkTheme ? 'bg-gradient-to-r from-purple-900/20 to-indigo-900/20 border-purple-500/30' : 'bg-gradient-to-r from-purple-50 to-indigo-50 border-purple-200'}`}>
                                        <h3 className={`text-lg font-bold mb-4 flex items-center gap-2 ${isDarkTheme ? 'text-purple-300' : 'text-purple-900'}`}>
                                            <span className="text-2xl">üèÜ</span>
                                            Clasificaci√≥n a la Final
                                        </h3>
                                        <div className="grid md:grid-cols-2 gap-4">
                                            {/* Group A Leader */}
                                            <div className={`rounded-lg p-4 shadow-sm ${isDarkTheme ? 'bg-gray-800/50' : 'bg-white'}`}>
                                                <div className={`text-xs font-semibold mb-2 ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`}>L√çDER GRUPO A</div>
                                                <div className="flex items-center gap-3">
                                                    <TeamLogo team={calculateStandings('A')[0].team} />
                                                    <div>
                                                        <div className={`font-bold ${isDarkTheme ? 'text-gray-100' : 'text-gray-900'}`}>{calculateStandings('A')[0].team}</div>
                                                        <div className={`text-sm ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>
                                                            {calculateStandings('A')[0].points + TEAMS[calculateStandings('A')[0].team].leaguePoints} pts totales
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            {/* Group B Leader */}
                                            <div className={`rounded-lg p-4 shadow-sm ${isDarkTheme ? 'bg-gray-800/50' : 'bg-white'}`}>
                                                <div className={`text-xs font-semibold mb-2 ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`}>L√çDER GRUPO B</div>
                                                <div className="flex items-center gap-3">
                                                    <TeamLogo team={calculateStandings('B')[0].team} />
                                                    <div>
                                                        <div className={`font-bold ${isDarkTheme ? 'text-gray-100' : 'text-gray-900'}`}>{calculateStandings('B')[0].team}</div>
                                                        <div className={`text-sm ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>
                                                            {calculateStandings('B')[0].points + TEAMS[calculateStandings('B')[0].team].leaguePoints} pts totales
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* Home Advantage Info */}
                                        {(() => {
                                            const groupALeader = calculateStandings('A')[0];
                                            const groupBLeader = calculateStandings('B')[0];
                                            const groupATotal = groupALeader.points + TEAMS[groupALeader.team].leaguePoints;
                                            const groupBTotal = groupBLeader.points + TEAMS[groupBLeader.team].leaguePoints;
                                            let homeTeam = null;
                                            let reason = '';
                                            
                                            // Article 11: Home advantage determination
                                            if (groupATotal > groupBTotal) {
                                                homeTeam = groupALeader.team;
                                                reason = 'mayor puntuaci√≥n total (Fase I + Fase II)';
                                            } else if (groupBTotal > groupATotal) {
                                                homeTeam = groupBLeader.team;
                                                reason = 'mayor puntuaci√≥n total (Fase I + Fase II)';
                                            } else {
                                                // Tied on total points - apply Article 11 Paragraph 2 criteria
                                                if (groupALeader.goalDiff !== groupBLeader.goalDiff) {
                                                    homeTeam = groupALeader.goalDiff > groupBLeader.goalDiff ? groupALeader.team : groupBLeader.team;
                                                    reason = 'mejor diferencia de gol en cuadrangulares';
                                                } else if (groupALeader.goalsFor !== groupBLeader.goalsFor) {
                                                    homeTeam = groupALeader.goalsFor > groupBLeader.goalsFor ? groupALeader.team : groupBLeader.team;
                                                    reason = 'mayor cantidad de goles a favor en cuadrangulares';
                                                } else if (groupALeader.awayGoalsFor !== groupBLeader.awayGoalsFor) {
                                                    homeTeam = groupALeader.awayGoalsFor > groupBLeader.awayGoalsFor ? groupALeader.team : groupBLeader.team;
                                                    reason = 'mayor cantidad de goles de visitante en cuadrangulares';
                                                } else if (groupALeader.awayGoalsAgainst !== groupBLeader.awayGoalsAgainst) {
                                                    homeTeam = groupALeader.awayGoalsAgainst < groupBLeader.awayGoalsAgainst ? groupALeader.team : groupBLeader.team;
                                                    reason = 'menor cantidad de goles en contra de visitante en cuadrangulares';
                                                } else {
                                                    reason = 'se definir√° por sorteo';
                                                }
                                            }
                                            
                                            return homeTeam ? (
                                                <div className={`mt-4 p-4 rounded-lg border-l-4 ${isDarkTheme ? 'bg-green-900/20 border-green-500/50' : 'bg-green-50 border-green-500'}`}>
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-xl">üè†</span>
                                                        <div>
                                                            <div className={`font-bold ${isDarkTheme ? 'text-green-300' : 'text-green-900'}`}>Ventaja de Local√≠a</div>
                                                            <div className={`text-sm ${isDarkTheme ? 'text-green-400' : 'text-green-700'}`}>
                                                                <strong>{homeTeam}</strong> definir√° la final en casa por {reason}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            ) : (
                                                <div className={`mt-4 p-4 rounded-lg border-l-4 ${isDarkTheme ? 'bg-yellow-900/20 border-yellow-500/50' : 'bg-yellow-50 border-yellow-500'}`}>
                                                    <div className={`text-sm ${isDarkTheme ? 'text-yellow-300' : 'text-yellow-700'}`}>
                                                        <strong>Empate total:</strong> La ventaja de local√≠a {reason}
                                                    </div>
                                                </div>
                                            );
                                        })()}
                                    </div>
                                </div>
                                
                                <div className={`mt-6 p-4 rounded-lg border-l-4 ${isDarkTheme ? 'bg-blue-900/20 border-blue-500/50' : 'bg-blue-50 border-blue-500'}`}>
                                    <p className={`text-sm mb-3 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                        <strong>Clasificaci√≥n a la Final:</strong> Los l√≠deres de cada grupo clasifican a la final.
                                    </p>
                                    <p className={`text-sm mb-3 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                        <strong>Criterios de desempate en grupos (Art. 10¬∞):</strong>
                                    </p>
                                    <ol className={`text-sm ml-4 space-y-1 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                        <li>1. Mayor puntuaci√≥n en cuadrangulares</li>
                                        <li>2. <strong>Ventaja deportiva:</strong> Si hay empate entre equipos de posiciones 1¬∞-2¬∞ vs 3¬∞-8¬∞ de Fase I, clasifican los de 1¬∞-2¬∞</li>
                                        <li>3. Mayor diferencia de gol en cuadrangulares (para equipos 3¬∞-8¬∞ o empates entre 1¬∞-2¬∞)</li>
                                        <li>4. Mayor cantidad de goles a favor en cuadrangulares</li>
                                        <li>5. Mayor cantidad de goles de visitante en cuadrangulares</li>
                                        <li>6. Menor cantidad de goles en contra de visitante en cuadrangulares</li>
                                        <li>7. Mejor posici√≥n en la Fase I (Todos contra Todos)</li>
                                    </ol>
                                    <p className={`text-sm mt-3 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                        <strong>Local√≠a en la final (Art. 11¬∞):</strong> El equipo con m√°s puntos totales (Fase I + Fase II) ser√° <strong>visitante en la ida</strong> y <strong>local en la vuelta</strong>. 
                                        En caso de empate en puntos totales, se aplican los criterios 3-6 anteriores, y finalmente sorteo si persiste el empate.
                                    </p>
                                </div>
                            </div>
                        )}

                        {activeTab === 'reclasificacion' && (
                            <div className="glass rounded-2xl p-6 shadow-xl">
                                <div className="mb-6">
                                    <h2 className={`text-2xl font-bold mb-2 ${isDarkTheme ? 'text-gray-200' : 'text-gray-900'}`}>Tabla de Reclasificaci√≥n 2025</h2>
                                    <p className={`text-sm ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>
                                        Estad√≠sticas acumuladas del a√±o: Liga BetPlay I 2025 + Liga BetPlay II 2025 (completa con Cuadrangulares)
                                    </p>
                                </div>
                                <ReclasificacionTable />

                                {/* Color Legend for Position Indicators */}
                                <div className="mt-4 flex flex-wrap gap-4 justify-center md:justify-start items-center">
                                    <span className={`text-sm font-semibold ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>Leyenda:</span>
                                    <div className="flex items-center gap-2">
                                        <div className="position-circle qualification-libertadores" style={{width: '32px', height: '32px', fontSize: '14px', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>
                                            ü•á
                                        </div>
                                        <span className={`text-sm font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>Libertadores</span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <div className="position-circle qualification-sudamericana" style={{width: '32px', height: '32px', fontSize: '14px', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>
                                            ü•à
                                        </div>
                                        <span className={`text-sm font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>Sudamericana</span>
                                    </div>
                                </div>

                                {/* International Qualification Legend */}
                                <div className="mt-6 grid md:grid-cols-2 gap-4">
                                    <div className={`p-4 rounded-lg border-l-4 border-blue-500 ${isDarkTheme ? 'bg-blue-900/20' : 'bg-blue-50'}`}>
                                        <div className="flex items-center gap-2 mb-2">
                                            <span className="text-2xl">üèÜ</span>
                                            <h3 className={`font-bold ${isDarkTheme ? 'text-blue-300' : 'text-blue-900'}`}>Copa Libertadores (4 cupos)</h3>
                                        </div>
                                        <ul className={`text-sm space-y-1 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                            <li>‚úÖ <strong>Santa Fe</strong> - Campe√≥n Liga I 2024</li>
                                            <li>‚è≥ Campe√≥n Liga II 2025 (en disputa)</li>
                                            <li>‚Ä¢ 1¬∞ y 2¬∞ Reclasificaci√≥n (si no son campeones)</li>
                                        </ul>
                                    </div>
                                    
                                    <div className={`p-4 rounded-lg border-l-4 border-orange-500 ${isDarkTheme ? 'bg-orange-900/20' : 'bg-orange-50'}`}>
                                        <div className="flex items-center gap-2 mb-2">
                                            <span className="text-2xl">üéØ</span>
                                            <h3 className={`font-bold ${isDarkTheme ? 'text-orange-300' : 'text-orange-900'}`}>Copa Sudamericana (4 cupos)</h3>
                                        </div>
                                        <ul className={`text-sm space-y-1 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                            <li>‚è≥ Campe√≥n Copa BetPlay (Medell√≠n vs Nacional)</li>
                                            <li>‚Ä¢ 3¬∞ Reclasificaci√≥n</li>
                                            <li>‚Ä¢ 4¬∞ Reclasificaci√≥n</li>
                                            <li>‚Ä¢ 5¬∞ Reclasificaci√≥n</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div className={`mt-4 p-4 rounded-lg border-l-4 ${isDarkTheme ? 'bg-indigo-900/20 border-indigo-500/50' : 'bg-indigo-50 border-indigo-500'}`}>
                                    <p className={`text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                        <strong>Tabla de Reclasificaci√≥n 2025:</strong> Muestra las estad√≠sticas acumuladas de todos los equipos durante todo el a√±o,
                                        incluyendo la Liga BetPlay I 2025 completa y la Liga BetPlay II 2025 en curso (Fase Regular + Cuadrangulares Semifinales).
                                        Esta tabla se usa para determinar descensos y clasificaciones a torneos internacionales.
                                    </p>
                                    <p className={`text-sm mt-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>
                                        <strong>Torneos internacionales 2026:</strong> Libertadores: campeones del a√±o (Santa Fe + campe√≥n II 2025) y los dos mejores de reclasificaci√≥n que no sean campeones.
                                        Sudamericana: campe√≥n de la Copa BetPlay (final Medell√≠n vs Nacional; si el campe√≥n ya est√° en Libertadores el cupo pasa al siguiente en la tabla) y los puestos 3¬∞ a 5¬∞ de la reclasificaci√≥n sin Libertadores.
                                    </p>
                                </div>
                            </div>
                        )}

                        {/* Watermark for shared images */}
                        <div className="share-watermark">
                            <div className={`${isDarkTheme ? 'text-gray-200' : 'text-gray-800'}`}>
                                üèÜ Liga BetPlay 2025 II - Simulador de Cuadrangulares
                            </div>
                            <div className={`text-sm mt-1 ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>
                                Simula tu propia predicci√≥n en: www.fpcsimulator.online
                            </div>
                        </div>

                        </div>
                        {/* End Shareable Content */}
                    </div>
                </div>

                {/* Hidden Share Summary - Only visible during capture */}
                <div className="share-summary-mobile" style={{display: 'none'}}>
                    <ShareSummaryView isMobile={true} />
                </div>
                <div className="share-summary-desktop" style={{display: 'none'}}>
                    <ShareSummaryView isMobile={false} />
                </div>

                {/* Loading Overlay */}
                {isSharing && (
                    <div className="share-loading">
                        <div className="share-loading-spinner"></div>
                        <div className="share-loading-text">Generando tu imagen...</div>
                    </div>
                )}
                </>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
